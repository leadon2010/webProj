<!DOCTYPE html>
<html>
<body>

	<h2>JavaScript HTML DOM Change</h2>

	<p>Hello World!</p>
	<p>Hello World!</p>
	<p>Hello World!</p>
	<p>Hello World!</p>
	<p>Hello World!</p>

	<button onclick="changeFunc()">Change it</button>

	<script>
		function changeFunc() {
			var myCollection = document.getElementsByTagName("p");
			var i = 0;
			var j = myCollection.length;
			var cnt = 0;
			var origCol = myCollection[0].style.color;
			if (origCol != "red") {
				origCol = "blue";
				var chagCol = "red";
			} else {
				origCol = "red";
				var chagCol = "blue";
			}

			for (j = 0; j < myCollection.length; j++) {
				if (myCollection[j].style.color == origCol) {
					cnt++;
				}
			}

			for (i = 0; i < myCollection.length; i++) {
				myCollection[i].style.color = chagCol;
			}

			for (j = 0; j <= cnt; j++) {
				myCollection[j].style.color = origCol;
			}

			if (cnt == 0) {
				myCollection[0].style.color = origCol;
			} else if (cnt == myCollection.length-1) {
				myCollection[0].style.color = chagCol;
			}

		}
	</script>

</body>
</html>
