<!DOCTYPE html>
<html>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
	$(document).ready(function() {
		$("#btn").click(function() {
			getAirLine($("#txt1").val());
		});

		$("#txt1").keyup(function(e) {
			if (e.keyCode == 13)
				getAirLine($("#txt1").val());
		});
	});
	function getAirLine(str) {
		$.ajax({
				url : "https://api.flightstats.com/flex/schedules/rest/v1/json/from/GMP/to/HND/departing/2018/09/30?appId=6d442315&appKey=301aa216b58dee04e31de0f4d5733590",
				success : function(datas) {
					//var datas = JSON.parse(result);
					console.log(datas);
					var innerHtml = "<table border='1'><th>No</th><th>airline.name</th><th>departure.iataCode</th>"
							+ "<th>departure.scheduledTime</th><th>departure.gate</th><th>departure.terminal</th>"
							+ "<th>arrival.iataCode</th><th>arrival.scheduledTime</th><th>flight.number</th>"
							+ "<th>flight.iataNumber</th></tr>";
					for (var i = 0; i < datas.length; i++) {
						innerHtml += "<tr><td>" + i
						        + "</td><td>" + datas[i].airline.name
						        + "</td><td>" + datas[i].departure.iataCode
						        + "</td><td>" + datas[i].departure.scheduledTime
								+ "</td><td>" + datas[i].departure.gate
								+ "</td><td>" + datas[i].departure.terminal
								+ "</td><td>" + datas[i].arrival.iataCode
								+ "</td><td>" + datas[i].arrival.scheduledTime
								+ "</td><td>" + datas[i].flight.number
								+ "</td><td>" + datas[i].flight.iataNumber
								+ "</td></tr>";
					}
					innerHtml += "</table>";
					$("#txtHint").html(innerHtml);
			   }
			});
	}
</script>
</head>
<body>

	<h2>The XMLHttpRequest Object</h2>

	<h3>Start typing a name in the input field below:</h3>

	<p>
		iataCode for Departure: <input id="txt1" value="TAE" />
		<button id="btn">Get</button>
	</p>

	<div id="txtHint"></div>


</body>
</html>
